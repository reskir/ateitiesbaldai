
<div class="slider x--mt">
    {% for slide in page.slides %}
        <div class="slider-image"> {% asset {{slide}} class="lazy" magick:quality=40 %} </div>
    {% endfor %}
</div>

<script>
    (function() {
        var timing = 3500;
        var slider = document.querySelector('.slider');
        var slides = slider.children;
        if (slides.length) {
            slides[0].classList.add('active');
            setInterval(function() {
                for (var i = 0; i < slides.length; i++) {
                    var slide = slides[i];
                    if (slide.classList.contains('active')) {
                        slide.classList.remove('active');
                        if (i === slides.length - 1) {
                            slides[0].classList.add('active');
                            return
                        } else {
                            slides[i+1].classList.add('active');
                            return;
                        }
 
                    }
                };
            }, timing);
        }
    })();
</script>